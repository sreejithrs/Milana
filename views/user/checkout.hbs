<!-- Checkout Section Begin -->

<section class="checkout spad">
    <div class="container">
        <div class="checkout__form">
            <div class="row">
                <div class="col-lg-8 col-md-6">

                    {{!-- <h6 class="checkout__title">Billing Details</h6>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="checkout__input">
                                <p>First Name<span>*</span></p>
                                <input onkeyup="FNameValidate()" id="name1" type="text" name="fname">
                                <p class="error-msg" id="errormsg4"></p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="checkout__input">
                                <p>Last Name<span>*</span></p>
                                <input type="text" id="name2" onkeyup="LNameValidate()" name="lname">
                                <p class="error-msg" id="errormsg10"></p>
                            </div>
                        </div>
                    </div>

                    <div class="checkout__input">
                        <p>Address<span>*</span></p>
                        <input type="text" onkeyup="add1Validate()" id="add1" placeholder="Street Address"
                            class="checkout__input__add name" name="faddress">
                        <p id="errormsg8" class="error-msg"></p>
                        <input type="text" onkeyup="add2Validate()" id="add2"
                            placeholder="Apartment, suite, unite ect (optinal)" name="laddress" class="name">
                        <p class="error-msg" id="errormsg9"></p>
                    </div>
                    <div class="checkout__input">
                        <p>Town/City<span>*</span></p>
                        <input type="text" onkeyup="cityValidate()" id="city" name="town">
                        <p class="error-msg" id="errormsg5"></p>
                    </div>
                    <div class="checkout__input">
                        <p>State<span>*</span></p>
                        <input type="text" onkeyup="stateValidate()" id="state" name="state">
                        <p class="error-msg" id="errormsg3"></p>
                    </div>
                    <div class="checkout__input">
                        <p>Postcode / ZIP<span>*</span></p>
                        <input type="text" onkeyup="pinValidate()" name="pin" id="zip">
                        <p class="error-msg" id="errormsg6"></p>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="checkout__input">
                                <p>Phone<span>*</span></p>
                                <input type="text" onkeyup="MobileValidate()" id="number" name="phone">
                                <p class="error-msg" id="errormsg2"></p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="checkout__input">
                                <p>Email<span>*</span></p>
                                <input type="text" id="email" onkeyup="EmailValidate()" name="email">
                                <p class="error-msg" id="errormsg1"></p>
                                <input type="text" name="user" value="{{user._id}}" hidden>
                            </div>
                        </div>
                    </div> --}}
                    <div id="click-div" onclick="myFunction()">+ ADD ADDRESS</div>
                    <div id="section-A" class="tab-pane d-none mt-4">

                        <form action="/add-address-checkout" method="post">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">First Name</label>
                                    <input type="text" name="firstname" onkeyup="FNameValidate()"  class="form-control"
                                        id="name1" placeholder="First Name">
                                        <p class="error-msg" id="errormsg4"></p>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Last Name</label>
                                    <input type="text" name="lastname" onkeyup="LNameValidate()"  class="form-control" id="name2"
                                        placeholder="Last Name">
                                        <p class="error-msg" id="errormsg10"></p>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Email</label>
                                    <input type="email" name="email" onkeyup="EmailValidate()" class="form-control" id="email"
                                        placeholder="Email">
                                        <p class="error-msg" id="errormsg1"></p>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Phone</label>
                                    <input type="text" name="phone" onkeyup="MobileValidate()" class="form-control" id="number"
                                        placeholder="Mobile Number">
                                        <p class="error-msg" id="errormsg2"></p>
                                </div>

                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Address</label>
                                <input type="text" class="form-control" onkeyup="add1Validate()" id="add1" name="address1"
                                    placeholder="Street Address">
                                    <p id="errormsg8" class="error-msg"></p>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress2">Address 2</label>
                                <input type="text" class="form-control" onkeyup="add2Validate()" id="add2" name="address2"
                                    placeholder="Apartment, studio, or floor">
                                     <p class="error-msg" id="errormsg9"></p>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6 col-6">
                                    <label for="inputZip">Zip</label>
                                    <input type="text" class="form-control" onkeyup="pinValidate()" name="pin" placeholder="Pincode" id="zip">
                                    <p class="error-msg" id="errormsg6"></p>
                                </div>
                                <div class="col-md-4 col-4">
                                    <button type="button" id="pin_button" class="btn btn-warning"
                                        style="margin-top: 32px;"
                                        onclick="pinSearch(document.getElementById('zip').value)">Search</button>
                                </div>

                                <div class="spinner-border text-success position-relative" id="spinner" role="status"
                                    style=" margin-top: 30px; margin-left: -163px;visibility: hidden;">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>

                            <div class="form-row">

                                <div class="form-group col-md-12 col-12" >
                                    <label for="inputOffice">Post Offie</label>
                                    <input type="text" class="form-control" name="office" id="office"
                                        placeholder="Post Office">
                                    <p class="error-msg" id="errormsg7"></p>
                                </div>
                            </div>



                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">City</label>
                                    <input type="text" class="form-control" onkeyup="cityValidate()" name="city" id="city" placeholder="City">
                                    <p class="error-msg" id="errormsg5"></p>
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="inputState">State</label>
                                    <input type="text" list="state" id="state" onkeyup="stateValidate()" name="state" class="form-control"
                                        placeholder="Pick a State" />
                                        <p class="error-msg" id="errormsg3"></p>
                                </div>




                            </div>
                            <button type="submit" onclick="return addressValidate()" class="btn btn-success btn-md">Submit</button>
                        </form>
                    </div>

                    <div class="mt-4">
                        <form id="checkout-form">
                            {{#each address}}
                            <div class="d-flex mt-4 pl-2" style="background-color: #f3f2ee;">
                                <div class="mt-3">
                                    <input type="radio" name="address" value="{{this.address.id}}">
                                </div>
                                <div class="m-3">
                                    <b>{{this.address.firstname}}&nbsp;{{this.address.lastname}}</b><br>
                                    <div class="mt-3">
                                        <span>{{this.address.address1}},&nbsp;{{this.address.address2}}</span><br>
                                        <span>{{this.address.office}},&nbsp;{{this.address.city}}</span><br>
                                        <span>{{this.address.state}}-<span
                                                class="font-weight-bold">{{this.address.pin}}</span></span>
                                    </div>
                                </div>
                            </div>
                            {{/each}}

                    </div>




                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="cart__discount">
                        <h6>Discount codes</h6>
                        <hr>
                        {{#if isCheck}}
                        <div class="d-flex justify-content-between mt-4">
                            <p class="mt-3">Applied #{{userCart.coupon}}</p>
                            <button class="btn btn-danger mt-2" onclick="delete_coupon()" style="height: 40px;width: 60px;padding-left: 6px;" type="button">Delete</button>
                        </div>
                        {{else}}
                        <div class="d-flex justify-content-between mt-4">
                            <p class="mt-3">Apply Coupon</p>
                            <button class="apply-btn mt-2" style="height: 40px;" type="button" data-bs-toggle="modal"
                                data-bs-target="#myModal" {{#if isWallet}}disabled{{/if}}>Apply</button>
                        </div>
                        {{/if}}

                   
                        {{!-- <div class="d-flex justify-content-between mt-4">
                            <p class="mt-3">Applied #{{userCart.coupon}}</p>
                            <button class="apply-btn" onclick="delete_coupon()" type="button">Delete</button>
                        </div> --}}
                         {{#if user.wallet}}
                        <div class="d-flex justify-content-between mt-4">
                             {{#if isWallet}}
                             <p class="mt-3">Wallet Applied&nbsp;&nbsp;₹{{user.wallet}}</p>
                            <button class="btn btn-danger mt-2" onclick="delete_wallet('{{user._id}}','{{user.wallet}}')" style="height: 40px;width: 60px;padding-left: 6px;" type="button">Delete</button>
                             {{else}}
                             <p class="mt-3">Wallet Balance&nbsp;&nbsp;₹{{user.wallet}}</p>
                             <button class="apply-btn mt-2" onclick="apply_wallet('{{user._id}}','{{user.wallet}}')" style="height: 40px;" type="button"  {{#if isCheck}}disabled{{/if}}>Apply</button>
                             {{/if}}
                        </div>
                         {{/if}}
                        
                    </div>
                    <div class="checkout__order">
                        <h4 class="order__title">Your order</h4>
                        <div class="checkout__order__products" style="font-weight: 800;">Product <span>Total</span>
                        </div>
                        <ul class="checkout__total__products">
                            {{#each products}}
                            <hr>
                            <li> {{this.product.Name}}<br>{{this.product.Title}} <span>
                                    {{totalValue.maxTotal}}</span></li>
                            {{/each}}
                        </ul>
                        <ul class="checkout__total__all">
                            
                            <li style="font-weight: 800;">Total <span>₹{{totalValue.total}}</span></li>
                            <li style="font-weight: 800;">Discount <span>-₹ {{totalValue.dis}}</span></li>
                            <hr>
                            <li style="font-weight: 800;">Final Price <span>₹ {{totalValue.tot}}</span></li>
                        </ul>

                        <p>Select any Payment option and Continue</p>
                        <div class="checkout__input__checkbox" style="font-weight: 600;">
                            <label for="payment">
                                Cash on Delivery
                                <input type="radio" name="payment-method" onclick="checkBoxvalidate()" id="payment"
                                    value="COD">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="checkout__input__checkbox" style="font-weight: 600;">
                            <label for="razorpay">
                                Razorpay
                                <input type="radio" name="payment-method" onclick="checkBoxvalidate()" value="Razorpay" id="razorpay">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="checkout__input__checkbox" style="font-weight: 600;">
                            <label for="paypal">
                                Paypal
                                <input type="radio" name="payment-method" onclick="checkBoxvalidate()" value="Paypal" id="paypal">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <button type="submit" onclick="return placeOrderValidate()" class="site-btn">PLACE ORDER</button>
                    </div>
                </div>
                </form>

                <div class="modal" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <form id="coupon-search">
                                <!-- Modal Header -->
                                <div class="modal-header">
                                    <h4 class="modal-title">Apply Coupon</h4>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>

                                <!-- Modal body -->
                                {{#each coupon}}
                                <div class="modal-body">
                                    <div style="background-color: #f3f2ee;" class="p-3">
                                        <input class="mt-1" type="radio" name="coupon" value="{{this.coupon}}">
                                        <b class="pl-3">{{this.coupon}}</b>
                                        <p style="padding-left: 32px;" class="pt-2">{{this.description}}</p>
                                    </div>
                                </div>
                                {{/each}}

                                <!-- Modal footer -->
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-success">Apply</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Checkout Section End -->




<script>
    $(document).ready(function () {
        function disableBack() { window.history.forward() }

        window.onload = disableBack();
        window.onpageshow = function (evt) { if (evt.persisted) disableBack() }
    });
</script>


<script>
  
</script>




